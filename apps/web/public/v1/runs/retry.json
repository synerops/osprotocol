{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://osprotocol.dev/v1/runs/retry.json",
  "title": "Retry Schema",
  "description": "Retry configuration for workflow runs",
  "type": "object",
  "properties": {
    "attempts": {
      "type": "number",
      "description": "Maximum number of retry attempts"
    },
    "delayMs": {
      "type": "number",
      "description": "Initial delay between retries in milliseconds"
    },
    "backoff": {
      "$ref": "#/definitions/Backoff",
      "description": "Backoff strategy (default: 'none')"
    },
    "maxDelayMs": {
      "type": "number",
      "description": "Maximum delay when using backoff (milliseconds)"
    }
  },
  "required": [
    "attempts",
    "delayMs"
  ],
  "additionalProperties": false,
  "definitions": {
    "Backoff": {
      "type": "string",
      "enum": [
        "none",
        "linear",
        "exponential"
      ],
      "description": "Backoff strategy for retries"
    }
  }
}
